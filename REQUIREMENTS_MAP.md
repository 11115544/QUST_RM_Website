# 需求清单与实现映射

本文档将《Robomaster战队管理网站需求清单》与当前项目实现做逐项映射，便于后续按需开发与验收。

---

## 一、基础功能需求

| 需求项 | 实现状态 | 说明 |
|--------|----------|------|
| 手机号/邮箱注册，绑定战队身份，队长审核 | ✅ 已搭骨架 | 注册 API 写入 `User` + `TeamJoinRequest`，审核流程待业务逻辑与角色分配 |
| 账号密码、验证码登录，记住密码，忘记密码 | ✅ 密码登录 | 登录页支持账号密码、记住密码；忘记密码页为占位，验证码与找回待开发 |
| 游客模式：仅浏览对外展示 | ✅ | 未登录可访问 `/`、`/about`、`/honors`、`/gallery`、`/recruit`、`/sponsor`；工作台需登录 |
| 超级管理员/模块管理员/普通队员/指导老师/游客 | ✅ 模型与鉴权 | `Role` 枚举与 NextAuth session 中 `role`，各页面可按 role 做 UI/API 权限控制 |
| 战队专属配置（名称、Logo、口号、配色、导航） | 📋 占位 | `TeamConfig` 表已建，设置页与前台读取待做 |
| 数据备份与恢复、操作日志 | 📋 占位 | `AuditLog` 表已建，备份/恢复与日志记录逻辑待做 |
| 移动端适配 | ✅ 基础 | 响应式布局与 Tailwind，核心功能可在移动端使用；可继续优化触控与布局 |

---

## 二、对外展示模块

| 需求项 | 实现状态 | 说明 |
|--------|----------|------|
| 战队简介：成立时间、历程、宗旨、架构、图文 | ✅ 页面 | `/about` 页面骨架，内容需对接后台编辑与 `TeamConfig`/CMS |
| 荣誉展示：赛事/其他荣誉、时间倒序、筛选、图片/视频 | ✅ 页面 | `/honors` 页面骨架，数据来自 `Honor` 表，筛选与媒体待实现 |
| 战队风采：媒体素材、队员介绍、点赞评论（审核） | ✅ 页面 | `/gallery` 页面骨架，`MediaGallery` 等需与后台及评论审核对接 |
| 新人招募：招募信息、在线报名、审核进度 | ✅ 页面+表 | `/recruit` 页面与 `Recruitment`、`RecruitmentApplication`，表单提交与进度查询待做 |
| 赞助合作：政策、权益、案例、联系方式、表单、赞助商展示 | ✅ 页面 | `/sponsor` 页面骨架，`Sponsor` 表已建，表单与展示待对接 |

---

## 三、核心管理模块

### （一）队员管理

| 需求项 | 实现状态 | 说明 |
|--------|----------|------|
| 队员信息录入/修改、状态（在队/退役/请假） | 📋 表+入口 | `Profile`、`MemberStatus`，管理页入口在 `/dashboard/members`，CRUD 待做 |
| 分组管理：组别设置、组员、跨组调整 | ✅ 表 | `TeamGroup`、Profile.groupId，管理 UI 待做 |
| 考勤：任务创建、签到/签退/定位、补签审核、统计报表 | ✅ 表 | `AttendanceTask`、`Attendance`，考勤页与统计待做 |
| 队员成长记录：项目/赛事/技能/荣誉、评价、筛选 | ✅ 表 | `GrowthRecord`，列表与筛选待做 |

### （二）Robomaster 赛事管理

| 需求项 | 实现状态 | 说明 |
|--------|----------|------|
| 赛事信息、参赛记录、赛程管理 | ✅ 表 | `Competition`、`CompetitionSchedule`，列表与编辑待做 |
| 备战计划、进度跟踪、战术库 | ✅ 表 | `PreparationPlan`，战术库可单独表或扩展，UI 待做 |
| 成绩与复盘、归档与搜索 | ✅ 表 | `CompetitionResult`、`Debrief`，复盘归档与检索待做 |
| 赛事报名、材料提交、审核与统计 | ✅ 表 | `CompetitionEnrollment`，报名流程与报表待做 |

### （三）机器人研发管理

| 需求项 | 实现状态 | 说明 |
|--------|----------|------|
| 机器人档案、设计资料、版本管理 | ✅ 表 | `Robot`、`RobotDocument`，图纸/代码预览、版本 UI 待做 |
| 研发任务、进度、预警 | 📋 需求 | 可与 `Task` 或独立表关联机器人，预警逻辑待做 |
| 技术文档归档、权限与下载 | ✅ 表 | `RobotDocument`，分类与权限控制待做 |
| 故障上报、处理、归档 | ✅ 表 | `FaultReport`，流程与归档检索待做 |

### （四）物资装备管理

| 需求项 | 实现状态 | 说明 |
|--------|----------|------|
| 物资分类、档案、库存预警、过期提醒 | ✅ 表 | `MaterialCategory`、`Material`（含 alertThreshold、expireAt），统计与提醒待做 |
| 出入库、归还、盘点 | ✅ 表 | `MaterialInOut`，登记与盘点报表待做 |
| 采购申请、跟踪、供应商管理 | 📋 需求 | 采购可复用 `Material` 与审批流程，供应商可单独表或扩展 |

### （五）日常运营管理

| 需求项 | 实现状态 | 说明 |
|--------|----------|------|
| 任务创建/跟踪/统计 | ✅ 表 | `Task`、`TaskAssignment`，看板与统计待做 |
| 会议安排、提醒、纪要 | ✅ 表 | `Meeting`，提醒与纪要上传待做 |
| 经费录入/分类/统计/预算 | ✅ 表 | `FinanceRecord`，分类与报表、预算对比待做 |
| 通知公告、提醒、归档 | ✅ 表 | `Notice`，发布、推送与归档待做 |

---

## 四、内部协作模块

| 需求项 | 实现状态 | 说明 |
|--------|----------|------|
| 讨论区：分区、发帖回复、@、置顶精华删除、审核 | ✅ 表+入口 | `ForumSection`、`Post`、`Reply`，讨论区页在 `/dashboard/forum`，功能待做 |
| 文件共享：文件夹、上传下载预览、权限 | 📋 入口 | 文件页在 `/dashboard/files`，存储与权限待设计实现 |
| 消息通知：类型、站内+邮件、已读、自定义提醒 | ✅ 表+入口 | `Message`，消息页在 `/dashboard/messages`，推送与设置待做 |
| 日程协作：团队/个人日历、共享、提醒 | 📋 入口 | 日程页在 `/dashboard/calendar`，日历数据与联动待做 |

---

## 五、拓展功能（可选）

| 需求项 | 实现状态 | 说明 |
|--------|----------|------|
| 培训管理、考核 | 未做 | 可新增培训计划、资料、考核题目与成绩表 |
| 积分管理、排行榜、兑换 | 未做 | 可新增积分规则、记录与兑换表 |
| 云盘/日历/代码仓库联动 | 未做 | 需第三方 API 与账号绑定 |
| 数据统计与可视化 | 未做 | 可基于现有表做报表与图表 |

---

## 六、非功能需求

| 需求项 | 实现状态 | 说明 |
|--------|----------|------|
| 稳定性（可用时间、大文件上传） | 📋 部分 | Next 配置已预留 100MB body；高可用与限流需部署与运维配合 |
| 安全性（密码加密、防注入/XSS、核心数据加密） | ✅ 基础 | 密码 bcrypt；需全局校验与转义、敏感字段加密策略 |
| 易用性（界面、导航、帮助） | ✅ 基础 | 导航与模块划分已按需求；FAQ/操作指南可后续加 |
| 可扩展性（架构、数据量增长） | ✅ 设计 | 模块化路由与 Prisma 模型，便于加表与接口 |

---

## 七、特殊需求

| 需求项 | 实现状态 | 说明 |
|--------|----------|------|
| Robomaster 官方数据对接 | 未做 | 需官方 API 或爬虫规则，定时同步 |
| 代码高亮、图纸在线预览（CAD/SolidWorks） | 未做 | 前端组件+后端转码或专用预览服务 |
| 复盘视频剪辑与标注 | 未做 | 需前端标注与时间轴，可存 JSON 或专用表 |
| 战队专属域名绑定 | 部署侧 | 域名解析与 NEXTAUTH_URL 等配置 |

---

## 图例

- **✅ 已实现**：核心逻辑或页面/表已就绪，可继续完善交互与边界情况。
- **✅ 表/入口**：数据模型或路由/入口已存在，业务逻辑与 UI 待补全。
- **📋 占位/需求**：仅有占位或需求明确，待设计与实现。

开发时可按上表优先完成「核心管理」与「对外展示」的数据与 API，再补权限控制、日志、备份与拓展功能。
