# Robomaster 战队管理网站

围绕 **日常运营、研发训练、赛事备战、对外展示** 四大核心场景的战队管理平台，覆盖从内部管理到对外宣传的全维度需求。

## 技术栈

- **框架**: Next.js 14 (App Router)
- **语言**: TypeScript
- **样式**: Tailwind CSS
- **数据库**: SQLite（本地开发）/ PostgreSQL（可选，正式部署）+ Prisma ORM
- **认证**: NextAuth.js（账号密码 + 后续可扩展验证码）
- **校验**: Zod

## 功能模块概览

| 类型     | 模块           | 说明 |
|----------|----------------|------|
| 对外展示 | 战队简介       | 发展历程、组织架构、图文展示 |
| 对外展示 | 荣誉展示       | 赛事/科技类奖项，按时间、类型筛选 |
| 对外展示 | 战队风采       | 媒体素材、队员介绍、点赞评论（审核） |
| 对外展示 | 新人招募       | 招募信息、在线报名、审核进度 |
| 对外展示 | 赞助合作       | 赞助政策、联系方式、赞助商展示 |
| 内部管理 | 队员管理       | 信息、分组、考勤、成长记录 |
| 内部管理 | 赛事管理       | 赛事信息、备战、成绩复盘、报名 |
| 内部管理 | 机器人研发     | 档案、研发任务、技术文档、故障 |
| 内部管理 | 物资装备       | 分类、出入库、库存、采购 |
| 内部管理 | 日常运营       | 任务、会议、经费、通知公告 |
| 协作     | 讨论区/文件/消息/日程 | 分区讨论、文件共享、消息通知、日历 |

详细需求与实现状态见 [REQUIREMENTS_MAP.md](./REQUIREMENTS_MAP.md)。

## 快速开始

**不熟悉环境配置？请直接看 [环境配置指南.md](./环境配置指南.md)，按步骤操作即可。**

### 1. 环境要求

- Node.js 18+
- 本地开发默认使用 **SQLite**，无需再安装数据库；正式部署可改用 PostgreSQL

### 2. 安装依赖

```bash
npm install
```

### 3. 环境变量

复制 `.env.example` 为 `.env` 并填写：

- `DATABASE_URL`: 默认 `file:./dev.db`（SQLite，无需安装数据库）
- `NEXTAUTH_URL`: 本地开发保持 `http://localhost:3000`
- `NEXTAUTH_SECRET`: 任意一串随机字符（必填）

### 4. 数据库

```bash
npx prisma generate
npx prisma db push
```

（或使用脚本：`npm run db:generate`、`npm run db:push`）

### 5. 启动开发服务器

```bash
npm run dev
```

访问 [http://localhost:3000](http://localhost:3000)。游客可浏览对外展示页面；登录后进入工作台使用内部模块。

## 权限说明

- **超级管理员**：全部权限，含权限分配、数据删除、网站设置
- **模块管理员**：所辖模块内容管理（如机械组管理员管理机器人研发相关）
- **普通队员**：查看内部内容，提交考勤/任务/个人信息修改
- **指导老师**：查看全部内部数据、添加指导意见，不修改核心运营数据
- **游客**：仅可查看对外展示内容

新用户注册后为「待审核」状态，需队长审核通过后方可加入战队并赋予对应角色。

## 项目结构（简要）

```
src/
├── app/                    # 页面与 API
│   ├── about|honors|gallery|recruit|sponsor  # 对外展示
│   ├── login|register|forgot-password       # 认证
│   ├── dashboard/          # 工作台及各子模块
│   └── api/                # API 路由（auth、register 等）
├── components/             # 公共组件与布局
├── lib/                    # prisma、auth、utils
├── types/                  # 类型扩展（如 next-auth）
prisma/
└── schema.prisma           # 数据模型
```

## 后续可扩展

- 验证码登录、忘记密码（手机/邮箱验证）
- 培训管理、积分管理
- 第三方联动（云盘、日历、代码仓库）
- 数据统计与可视化
- Robomaster 赛事官方数据对接、战队专属域名

---

注：文档部分内容可能由 AI 生成。
